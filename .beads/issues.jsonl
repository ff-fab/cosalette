{"id":"workspace-6sp","title":"Phase 8: Comprehensive MkDocs documentation (DITA style)","description":"Build full documentation site using MkDocs Material with DITA information typing. Concepts: framework philosophy, hexagonal architecture, IoC pattern, device archetypes. Tasks: getting started, creating first app, adding commands, testing guide. Reference: API reference (App, DeviceContext, Settings, ClockPort), MQTT topic conventions, CLI options, configuration reference. Include architecture diagrams (mermaid), code examples from gas2mqtt.","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:11:12.573630086Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:11:12.573630086Z","dependencies":[{"issue_id":"workspace-6sp","depends_on_id":"workspace-vil","type":"blocks","created_at":"2026-02-14T17:11:25.45582178Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-740","title":"Build cosalette core framework (Phase 1)","status":"open","priority":1,"issue_type":"epic","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:22.340699977Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:10:22.340699977Z","dependencies":[{"issue_id":"workspace-740","depends_on_id":"workspace-6sp","type":"blocks","created_at":"2026-02-14T17:11:43.701308428Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-788","title":"Phase 2: MQTT Client (_mqtt.py)","description":"Generalised MqttClient from velux2mqtt reference. Lazy aiomqtt import, asyncio.Event connectivity, tracked subscriptions with reconnect restore, LWT support (configurable will topic/payload), MessageCallback dispatch, topic structure {prefix}/{device}/state|set|availability. Remove velux /actual filtering. Full test suite with MockMqttClient test double.","status":"closed","priority":1,"issue_type":"task","assignee":"Fabian Koerner","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:42.663507272Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T21:45:39.858465387Z","closed_at":"2026-02-14T21:45:39.858465387Z","close_reason":"Closed","dependencies":[{"issue_id":"workspace-788","depends_on_id":"workspace-omb","type":"blocks","created_at":"2026-02-14T17:11:25.000552318Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-a5u","title":"Phase 3: Error Publisher + Health (_errors.py, _health.py)","description":"ErrorPublisher: structured ErrorPayload frozen dataclass → JSON → MQTT on {app}/error and {app}/{device}/error. Pluggable error type mapping. Fire-and-forget _safe_publish(). Clock injection. Health reporter: per-device availability topic, app-level status with LWT, structured JSON heartbeat. Full test suite.","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:48.796360362Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:10:48.796360362Z","dependencies":[{"issue_id":"workspace-a5u","depends_on_id":"workspace-788","type":"blocks","created_at":"2026-02-14T17:11:25.06564667Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-crg","title":"Re-export MockMqttClient from cosalette.testing (T-mqtt-reexport, see docs/TODO/)","status":"open","priority":2,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T21:23:41.704482825Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T21:23:41.704482825Z","dependencies":[{"issue_id":"workspace-crg","depends_on_id":"workspace-788","type":"blocks","created_at":"2026-02-14T21:23:45.634382945Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-gne","title":"Phase 5: CLI scaffolding (_cli.py)","description":"Typer-based CLI. Options: --dry-run, --version, --log-level, --log-format, --env-file. Integrated with App.run() as orchestration entry point. Parse CLI → load config → configure logging → hand off to app lifecycle. Full test suite.","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:11:12.391122315Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:11:12.391122315Z","dependencies":[{"issue_id":"workspace-gne","depends_on_id":"workspace-yfr","type":"blocks","created_at":"2026-02-14T17:11:25.191787873Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-omb","title":"Phase 1: Foundation modules — Settings, Clock, Logging","description":"Create _settings.py (Settings base with MqttSettings + LoggingSettings embedded models, pydantic-settings, env_nested_delimiter, .env support, SecretStr), _clock.py (ClockPort protocol + SystemClock), _logging.py (JsonFormatter NDJSON + configure_logging with parameterised service name). Add aiomqtt\u003e=2.5.0 and typer\u003e=0.12 to pyproject.toml dependencies. Full test suite for each module. Remove old config.py placeholder.","status":"closed","priority":1,"issue_type":"task","assignee":"Fabian Koerner","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:35.879280606Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T19:41:37.341017865Z","closed_at":"2026-02-14T19:41:37.341017865Z","close_reason":"Closed","dependencies":[{"issue_id":"workspace-omb","depends_on_id":"workspace-zho","type":"blocks","created_at":"2026-02-14T17:11:24.940224226Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-q7k","title":"Phase 6: Testing module (cosalette.testing)","description":"cosalette/testing/ sub-package. MockMqttClient (records publish/subscribe), FakeClock (deterministic time), AppHarness (full lifecycle in test), make_settings factory, device_context fixture. Pytest plugin for auto-registration (pytest_plugins). Full test suite for the testing utilities themselves.","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:11:12.453142295Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:11:12.453142295Z","dependencies":[{"issue_id":"workspace-q7k","depends_on_id":"workspace-yfr","type":"blocks","created_at":"2026-02-14T17:11:25.255508072Z","created_by":"Fabian Koerner"},{"issue_id":"workspace-q7k","depends_on_id":"workspace-crg","type":"blocks","created_at":"2026-02-14T21:23:45.716738862Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-vil","title":"Phase 7: Public API + Integration validation","description":"Final __init__.py exports: App, DeviceContext, Settings, ClockPort, etc. Full-lifecycle integration test: create app → register device → start → publish → receive command → shutdown. Validate gas2mqtt example from §8 works against API. py.typed marker, docstring audit. Remove old placeholder modules (config.py, main.py).","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:11:12.514517181Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:11:12.514517181Z","dependencies":[{"issue_id":"workspace-vil","depends_on_id":"workspace-q7k","type":"blocks","created_at":"2026-02-14T17:11:25.320181461Z","created_by":"Fabian Koerner"},{"issue_id":"workspace-vil","depends_on_id":"workspace-gne","type":"blocks","created_at":"2026-02-14T17:11:25.391429888Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-yfr","title":"Phase 4: App + DeviceContext + TopicRouter (_app.py, _context.py, _router.py)","description":"Core decorator API. App class: device registry, @app.device/@app.telemetry decorators, lifecycle hooks (@app.on_startup/@app.on_shutdown), adapter registration, app.run() orchestration (parse CLI → load config → logging → MQTT → devices → hooks → block → shutdown). DeviceContext: publish_state(), publish(), sleep(), on_command(), adapter(), shutdown_requested. TopicRouter: extract device from {prefix}/{device}/set, route to handler. AppContext for hooks. Full test suite.","status":"open","priority":1,"issue_type":"task","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:56.435398241Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T17:10:56.435398241Z","dependencies":[{"issue_id":"workspace-yfr","depends_on_id":"workspace-a5u","type":"blocks","created_at":"2026-02-14T17:11:25.128141844Z","created_by":"Fabian Koerner"}]}
{"id":"workspace-zho","title":"Phase 0: Document Architecture Decision Records","description":"Derive and document all ADRs from planning documents. Covers: framework style (IoC/decorator), MQTT topic conventions, config system (pydantic-settings), logging (JSON+text), CLI (typer), hexagonal architecture, testing strategy, packaging, Python version, topic naming, error handling, health/LWT. Write to docs/adr/ADR-NNN-title.md following the ADR format in documentation.instructions.md.","status":"closed","priority":1,"issue_type":"task","assignee":"Fabian Koerner","owner":"fab@tech-kyb.de","created_at":"2026-02-14T17:10:28.938685329Z","created_by":"Fabian Koerner","updated_at":"2026-02-14T18:56:40.101138981Z","closed_at":"2026-02-14T18:56:40.101138981Z","close_reason":"Closed"}
